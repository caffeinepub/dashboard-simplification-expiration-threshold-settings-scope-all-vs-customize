{
  "kind": "coverage_report",
  "version": "1.0",
  "generatedAt": "2026-02-05T15:44:10.432Z",
  "sources": {
    "buildRequest": true,
    "implementationPlan": true
  },
  "requirements": {
    "total": 13,
    "implemented": 9,
    "items": [
      {
        "id": "REQ-1",
        "summary": "Profile: allow each user to set a custom profile photo (upload) OR choose from a predefined avatar list (e.g., duck, basketball, rocket, robot). Add an \"Entity\" field on the user profile to indicate the team (e.g., T2I).",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/pages/ProfilePage.tsx",
          "frontend/src/components/profile/PredefinedAvatarPicker.tsx",
          "frontend/public/assets/avatars/duck.svg",
          "frontend/public/assets/avatars/basketball.svg",
          "frontend/public/assets/avatars/rocket.svg",
          "frontend/public/assets/avatars/robot.svg"
        ],
        "matchedFiles": [
          "frontend/src/pages/ProfilePage.tsx",
          "frontend/src/components/profile/PredefinedAvatarPicker.tsx"
        ]
      },
      {
        "id": "REQ-10",
        "summary": "Statistics: allow reordering of all internal layouts within Statistics (not just reordering the whole Statistics block).",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/pages/Dashboard/components/StatisticsSection.tsx",
          "frontend/src/pages/DashboardPage.tsx"
        ],
        "matchedFiles": [
          "frontend/src/pages/Dashboard/components/StatisticsSection.tsx"
        ]
      },
      {
        "id": "REQ-11",
        "summary": "Statistics: add two separate charts with filters: (1) estimated number of components by criticality, and (2) estimated number of components by deadline/date limite. Both charts must be draggable as layouts.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/pages/Dashboard/components/StatisticsCharts/CriticalityChartCard.tsx",
          "frontend/src/pages/Dashboard/components/StatisticsCharts/DeadlineChartCard.tsx",
          "frontend/src/pages/Dashboard/components/StatisticsSection.tsx"
        ],
        "matchedFiles": [
          "frontend/src/pages/Dashboard/components/StatisticsCharts/CriticalityChartCard.tsx",
          "frontend/src/pages/Dashboard/components/StatisticsCharts/DeadlineChartCard.tsx",
          "frontend/src/pages/Dashboard/components/StatisticsSection.tsx"
        ]
      },
      {
        "id": "REQ-12",
        "summary": "Benches list: show the PLM Agile URL shortcut under the bench image only if that URL field was provided at creation time; hide the shortcut when the field is empty/missing.",
        "status": "missing",
        "plannedFiles": [
          "frontend/src/pages/Benches/BenchListPage.tsx"
        ],
        "matchedFiles": []
      },
      {
        "id": "REQ-13",
        "summary": "Bench form: add a lightweight local/heuristic \"Rewrite\" button in the Description section that reformulates user text without calling external AI/LLM services.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/utils/rewriteDescription.ts",
          "frontend/src/pages/Benches/components/AddBenchModal.tsx"
        ],
        "matchedFiles": [
          "frontend/src/utils/rewriteDescription.ts"
        ]
      },
      {
        "id": "REQ-2",
        "summary": "Email domain rule: enforce the email domain '@safrangroup.com' when a user edits/saves their email in their own profile. In Admin settings, allow admins to change the enforced domain value (so it is configurable).",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/utils/validation.ts",
          "frontend/src/pages/ProfilePage.tsx",
          "frontend/src/pages/Admin/components/AdminEmailDomainSettingsPanel.tsx",
          "frontend/src/pages/Admin/AdminPage.tsx"
        ],
        "matchedFiles": [
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/utils/validation.ts",
          "frontend/src/pages/ProfilePage.tsx"
        ]
      },
      {
        "id": "REQ-3",
        "summary": "Bench documents UX: in each bench's Documents section, enable directly editing the HW/SW/Other document lists via a '+' add action. For every already-uploaded document, provide actions to delete (trash), edit/replace (pencil toggle), and download.",
        "status": "missing",
        "plannedFiles": [
          "frontend/src/pages/Benches/components/BenchDocumentsEditor.tsx",
          "frontend/src/utils/download.ts"
        ],
        "matchedFiles": []
      },
      {
        "id": "REQ-4",
        "summary": "Make all layouts draggable/reorderable in all tabs using the same drag-and-drop behavior already used elsewhere, and unify/improve the drag-and-drop UX specifically from the Admin tab (consistent handles, spacing, and feedback).",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/dnd/DraggableList.tsx",
          "frontend/src/components/dnd/useDraggableOrder.ts",
          "frontend/src/pages/DashboardPage.tsx",
          "frontend/src/pages/Admin/AdminPage.tsx",
          "frontend/src/pages/Benches/BenchDetailPage.tsx",
          "frontend/src/index.css"
        ],
        "matchedFiles": [
          "frontend/src/components/dnd/DraggableList.tsx",
          "frontend/src/components/dnd/useDraggableOrder.ts"
        ]
      },
      {
        "id": "REQ-5",
        "summary": "Admin: add an entity dropdown and filters that list all existing entities, allow the admin to select an entity, and display the users belonging to that selected entity.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/pages/Admin/components/AdminUsersPanel.tsx"
        ],
        "matchedFiles": [
          "frontend/src/hooks/useQueries.ts"
        ]
      },
      {
        "id": "REQ-6",
        "summary": "Admin: show an online status indicator next to each user in the entity user list (green dot when connected, red dot when disconnected). Implement online status without real-time sockets by tracking a backend last-seen timestamp updated by the frontend at a regular interval while the user is authenticated.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/hooks/useLastSeenHeartbeat.ts",
          "frontend/src/components/layout/AppShell.tsx",
          "frontend/src/pages/Admin/components/AdminUsersPanel.tsx"
        ],
        "matchedFiles": [
          "frontend/src/hooks/useLastSeenHeartbeat.ts"
        ]
      },
      {
        "id": "REQ-7",
        "summary": "Replace the current app logo with the provided Safran logo (resize as needed) and ensure it displays correctly in both light and dark themes.",
        "status": "missing",
        "plannedFiles": [
          "frontend/public/assets/SAF.PA_BIG-99558ca4.png",
          "frontend/src/components/layout/AppShell.tsx"
        ],
        "matchedFiles": []
      },
      {
        "id": "REQ-8",
        "summary": "Fix the light-mode header/top bar overlapping page content: keep the header fixed while scrolling with a white background and ensure the main content is correctly offset so it never renders underneath the header.",
        "status": "missing",
        "plannedFiles": [
          "frontend/src/components/layout/AppShell.tsx",
          "frontend/src/index.css"
        ],
        "matchedFiles": []
      },
      {
        "id": "REQ-9",
        "summary": "Add contextual shortcuts: show a \"Scroll to top\" button when the user reaches near the bottom of a page, and show a \"Scroll to bottom\" button when the user is near the top of a page.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/navigation/ScrollShortcuts.tsx",
          "frontend/src/components/layout/AppShell.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/navigation/ScrollShortcuts.tsx"
        ]
      }
    ]
  },
  "changedFiles": [
    "backend/main.mo",
    "backend/migration.mo",
    "build-request.json",
    "caffeine.lock.json",
    "feature_evidence.json",
    "frontend-file-summaries.txt",
    "frontend-implementation-plan.json",
    "frontend/src/backend.d.ts",
    "frontend/src/backend.ts",
    "frontend/src/components/dnd/DraggableList.tsx",
    "frontend/src/components/dnd/useDraggableOrder.ts",
    "frontend/src/components/navigation/ScrollShortcuts.tsx",
    "frontend/src/components/profile/PredefinedAvatarPicker.tsx",
    "frontend/src/declarations/backend.did.d.ts",
    "frontend/src/declarations/backend.did.js",
    "frontend/src/hooks/useLastSeenHeartbeat.ts",
    "frontend/src/hooks/useQueries.ts",
    "frontend/src/pages/Dashboard/components/StatisticsCharts/CriticalityChartCard.tsx",
    "frontend/src/pages/Dashboard/components/StatisticsCharts/DeadlineChartCard.tsx",
    "frontend/src/pages/Dashboard/components/StatisticsSection.tsx",
    "frontend/src/pages/ProfilePage.tsx",
    "frontend/src/utils/rewriteDescription.ts",
    "frontend/src/utils/validation.ts",
    "project_state.json",
    "scratch/component-selection.json",
    "spec.md",
    "spec_vs_diff_report.json"
  ]
}